javascript:(function(){function a(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]-a[c-1]);return b}function b(a){return`${a}s`}function c(a,b){for(var c=[],d=[],e=0;e<a.length;e++)a.indexOf(a[e])==e&&(c.push(a[e]),d.push(b[e]));return[c,d]}var[d,e,f]=function(){var a=Highcharts.charts[Highcharts.charts.length-1].series[0].data.map(a=>a.x),b=Highcharts.charts[Highcharts.charts.length-1].series[0].data.map(a=>a.y),d=window.trainerRoad.ftp;return[a,b]=c(a,b),[a,b,d]}(),g=function(b){for(var c=a(b),d=[-1],e=0;e<c.length-1;e++)Math.abs(c[e+1]-c[e])>.01&&d.push(e);return d.push(c.length-1),d}(e),h=function(a,c,d,e){for(var f="",g=0;g<e.length-1;g++)if(e[g]+1<e[g+1])if(c[e[g+1]+1]==c[e[g]+1]){var h=(a[e[g+1]+1]-a[e[g]+1])/1e3;h+=1,e[g+1]+1!=e[g+2]&&g+2<e.length&&(h-=1),f+=`${b(h)} @ ${Math.round(100*c[e[g+1]+1]/d).toString()}% FTP\n`}else{var h=(a[e[g+1]+1]-a[e[g]+1])/1e3;(g+2>e.length-1||e[g+1]+1==e[g+2])&&(h+=1),f+=`${b(h)} from ${Math.round(100*c[e[g]+1]/d).toString()} to ${Math.round(100*c[e[g+1]+1]/d).toString()}% FTP\n`}return f.slice(0,-1)}(d,e,f,g);console.log(h),window.alert(h)})();
